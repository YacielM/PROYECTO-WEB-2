doctype html
html(lang="es")
  head
    title Sistema Hospitalario HIS
    meta(charset="UTF-8")
    meta(name="viewport" content="width=device-width, initial-scale=1.0")
    link(rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css")
    link(rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css")
    block head
  body
    header
      nav(class="navbar navbar-expand-lg navbar-dark bg-danger") 
        .container-fluid
          a.navbar-brand(href="/") Sistema HIS
          button.navbar-toggler(type="button", data-bs-toggle="collapse", data-bs-target="#navbarNav", aria-controls="navbarNav", aria-expanded="false", aria-label="Toggle navigation")
            span.navbar-toggler-icon
          .collapse.navbar-collapse#navbarNav
            ul.navbar-nav.me-auto.mb-2.mb-lg-0
              li.nav-item
                a.nav-link(href="/") Inicio
              if session && session.usuarioId
                li.nav-item
                  a.nav-link(href="/pacientes") Pacientes
                if session.rol === 'admin' || session.rol === 'recepcionista'
                  li.nav-item
                    a.nav-link(href="/admisiones") Admisiones
                if session.rol === 'admin' || session.rol === 'enfermero'
                  li.nav-item
                    a.nav-link(href="/eva_enfermeria") Evaluaciones de Enfermería
                if session.rol === 'admin' || session.rol === 'medico'
                  li.nav-item
                    a.nav-link(href="/eva_medicas") Evaluaciones Médicas
                li.nav-item
                  a.nav-link(href="/habitaciones") Habitaciones
                if session.rol === 'admin'
                  li.nav-item 
                    a.nav-link(href="/personal") Personal
                if session.rol === 'admin' || session.rol === 'recepcionista' || session.rol === 'medico'
                  li.nav-item
                    a.nav-link(href="/turnos") Turnos
              else
                // Si no hay sesión, solo muestra Inicio y (opcional) Pacientes
                li.nav-item
                  a.nav-link(href="/pacientes") Pacientes
            ul.navbar-nav.ms-auto
              if session && session.usuarioId
                li.nav-item.d-flex.align-items-center
                  span.text-white.me-2
                    i.bi.bi-person-circle.me-1
                    | Usuario: #{session.rol}
                  a.nav-link.text-white(href="/logout")
                    i.bi.bi-box-arrow-right.me-1
                    | Cerrar sesión
              else
                li.nav-item
                  a.nav-link.text-white(href="/login")
                    i.bi.bi-box-arrow-in-right.me-1
                    | Iniciar sesión
    main.container.mt-4
      block content
    footer.text-center.mt-4
      p © 2025 - Sistema Hospitalario HIS
      script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js")
      block scripts